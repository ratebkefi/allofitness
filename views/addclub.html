<!-- Header -->
<div ng-include="'views/layout/header.html'"></div>

<!-- Carousel -->
<div ng-include="'views/components/clubSlider.html'"></div>
<!-- /carousel -->

<div class="section animated fadeInRight">
    <div class="container">
        <h1 class="classic-title"><span>Inscription Club</span></h1>

        <form name="form" ng-submit="add_club(item)" ng-class="{'not_submitted' : !form.$submitted }"
              class="form-horizontal " novalidate>

            <fieldset>
                <legend>Coordonnées de votre enseigne</legend>

                <div class="row">
                    <div class="col-md-6 col-sm-6">
                        <md-input-container class=" md-block">
                            <label class="required">Nom du club *</label>
                            <input type="text" ng-model="item.club_name" class="validate" name="club_name"
                                   required="required"/>

                            <p ng-if="submitted" class="errorform" ng-show="form.club_name.$error.required">
                                Ce champ est obligatoire !</p>
                        </md-input-container>

                    </div>

                    <div class="col-md-6 col-sm-6">
                        <div class="md-input-container md-block">
                            <input type="hidden"  name="networkclubs" ng-model="item.networkclubs"
                                   ng-change="item.networkclub=item.networkclubs.id" />
                            <ui-select theme="select2" name="networkclubs" ng-model="item.networkclubs"
                                        ng-change="item.networkclub=item.networkclubs.id"
                                        required="required" >
                                <ui-select-match placeholder="Nom du réseau *" >
                                    <span ng-bind="$select.selected.name"></span>
                                </ui-select-match>
                                <ui-select-choices repeat="option in (itemNetworkClub | filter: $select.search)">
                                    <div ng-bind-html="option.name"></div>
                                </ui-select-choices>
                            </ui-select>

                            <!--<label>Nom du réseau*</label>-->
                            <!--<md-select aria-label="Réseau de club *" ng-model="item.networkclubs" name="networkclubs"-->
                                       <!--required="required">-->
                                <!--<md-option ng-repeat="collegeOption in itemNetworkClub" ng-value="collegeOption">-->
                                    <!--{{collegeOption.name}}-->
                                <!--</md-option>-->
                            <!--</md-select>-->

                            <p ng-if="submitted" class="errorform selectform"
                               ng-show="form.networkclubs.$error.required">Ce champ est obligatoire !</p>
                        </div>

                    </div>

                </div>

                <div class="row clearfix">

                    <div class="col-md-6 col-sm-6">
                        <div class="md-input-container md-block">
                            <ui-select theme="select2" name="typeclubs" ng-model="item.typeclubs"
                                        ng-change="item.typeclub=item.typeclubs.id"
                                        required="required" >
                                <ui-select-match placeholder="Type de club *" >
                                    <span ng-bind="$select.selected.name"></span>
                                </ui-select-match>
                                <ui-select-choices repeat="option in (itemTypeClub | filter: $select.search)">

                                    <b><div ng-bind-html="option.name"></div></b>
                                    <small>
                                        <i ng-bind-html="option.description"></i>
                                    </small>
                                </ui-select-choices>
                            </ui-select>
                            <!--<ui-select ng-model="person.selected" theme="select2" ng-disabled="disabled" style="min-width: 300px;">-->
                                <!--<ui-select-match placeholder="Select a person in the list or search his name/age...">{{$select.selected.name}}</ui-select-match>-->
                                <!--<ui-select-choices repeat="person in people | propsFilter: {name: $select.search, age: $select.search}">-->
                                    <!--<div ng-bind-html="person.name | highlight: $select.search"></div>-->
                                    <!--<small>-->
                                        <!--email: {{person.email}}-->
                                        <!--age: <span ng-bind-html="''+person.age | highlight: $select.search"></span>-->
                                    <!--</small>-->
                                <!--</ui-select-choices>-->
                            <!--</ui-select>-->

                            <!--<label>Type de club *</label>-->
                            <!--<md-select name="typeclubs" ng-model="item.typeclubs" required="required">-->
                                <!--<md-option ng-repeat="collegeOption in itemTypeClub" ng-value="collegeOption">-->
                                    <!--{{collegeOption.name}}-->
                                <!--</md-option>-->
                            <!--</md-select>-->

                            <p ng-if="submitted" class="errorform selectform" ng-show="form.typeclubs.$error.required">
                                Ce champ est obligatoire !</p>
                        </div>

                    </div>

                    <div class="col-md-6 col-sm-6">
                        <md-input-container class=" md-block">
                            <label>Adresse *</label>
                            <input type="text" g-places-autocomplete ng-model="item.adress" name="adress"
                                   required="required"/>
                            <p ng-if="submitted" class="errorform" ng-show="form.adress.$error.required">Ce
                                champ est obligatoire !</p>
                        </md-input-container>
                    </div>

                </div>

                <div class="row">
                    <div class="col-md-6 col-sm-6">
                        <md-input-container class=" md-block">
                            <label>Adresse suite</label>
                            <input type="text" name="adresse_contunied" ng-model="item.adresse_contunied"/>

                        </md-input-container>
                    </div>

                    <div class="col-md-6 col-sm-6">
                        <div class="md-input-container md-block">
                            <ui-select theme="select2" ng-model="item.countrys"
                                        name="countrys"
                                        ng-change="item.country=item.countrys.id;updateRegion(item.countrys)"
                                        required="required" title="Pays" >
                            <ui-select-match placeholder="Pays *">{{$select.selected.name}}</ui-select-match>
                            <ui-select-choices repeat="item in itemCountry | filter: $select.search">
                                <div ng-bind-html="item.name | highlight: $select.search"></div>
                            </ui-select-choices>
                            </ui-select>

                            <!--<md-select ng-model="item.countrys" name="countrys"-->
                                       <!--ng-change="item.country=item.countrys.id;updateRegion(item.countrys)"-->
                                       <!--ng-disabled="$index === 0">-->
                                <!--<md-option ng-repeat="state in itemCountry" ng-value="{{state.id}}">-->
                                    <!--{{state.name}}-->
                                <!--</md-option>-->
                            <!--</md-select>-->
                            <p ng-if="submitted" class="errorform selectform" ng-show="form.countrys.$error.required">
                                Ce champ est obligatoire !</p>
                        </div>

                              </div>
                </div>

                <div class="row">
                    <div class="col-md-6 col-sm-6">
                        <div class="md-input-container md-block">

                            <ui-select theme="select2" ng-model="item.regions"
                                       name="regions"
                                       ng-change="item.region=item.regions.id;updateDepartement(item.regions)"
                                       required="required"  title="Région" >
                                <ui-select-match placeholder="Région *">{{$select.selected.name}}</ui-select-match>
                                <ui-select-choices repeat="item in itemRegion | filter: $select.search">
                                    <div ng-bind-html="item.name | highlight: $select.search"></div>
                                </ui-select-choices>
                            </ui-select>

                            <p ng-if="submitted" class="errorform selectform" ng-show="form.regions.$error.required">Ce
                                champ est obligatoire !</p>

                        </div>

                    </div>
                    <div class="col-md-6 col-sm-6">
                        <div class="md-input-container md-block">
                            <ui-select theme="select2" ng-model="item.deps"
                                       name="deps" ng-change="item.departement=item.deps.id;updateCity(item.deps)"
                                       required="required" title="Pays" >
                                <ui-select-match placeholder="Département *">{{$select.selected.name}}</ui-select-match>
                                <ui-select-choices repeat="item in itemDep | filter: $select.search">
                                    <div ng-bind-html="item.name | highlight: $select.search"></div>
                                </ui-select-choices>
                            </ui-select>

                            <p ng-if="submitted" class="errorform selectform" ng-show="form.deps.$error.required">Ce
                                champ est obligatoire !</p>
                        </div>

                    </div>
                </div>
                <div class="row mt-sm">
                    <div class="col-md-6 col-sm-6">
                        <div class="md-input-container md-block">

                            <ui-select theme="select2" ng-model="item.citys"
                                       name="citys" ng-change="item.city=item.citys.id"
                                       title="Ville" >
                                <ui-select-match placeholder="Ville">{{$select.selected.name}}</ui-select-match>
                                <ui-select-choices repeat="item in itemCity | filter: $select.search">
                                    <div ng-bind-html="item.name | highlight: $select.search"></div>
                                </ui-select-choices>
                            </ui-select>

                        </div>

                    </div>
                    <div class="col-md-6 col-sm-6">
                        <md-input-container class=" md-block">
                            <label>Code Postal *</label>
                            <input type="number" ng-model="item.cps" ng-minlength="5"
                                   ng-maxlength="5" name="cps" class="validate" required>

                            <p ng-if="submitted" class="errorform" ng-show="form.cps.$error.required">Ce
                                champ est obligatoire !</p>
                            <p ng-show="form.cps.$error.minlength || form.cps.$error.maxlength"
                               class="errorform">Le code postal doit comporter 5 chiffres !</p>
                        </md-input-container>

                    </div>
                </div>
                <div class="row">
                    <div class="col-md-6 col-sm-6">
                        <md-input-container class=" md-block">
                            <label>Téléphone 1 *</label>
                            <input type="number" ng-model="item.phone" ng-minlength="10"
                                   ng-maxlength="10" name="phone" class="validate" required>

                            <p ng-if="submitted" class="errorform" ng-show="form.phone.$error.required">Ce
                                champ est obligatoire !</p>
                            <p ng-show="form.phone.$error.minlength || form.phone.$error.maxlength"
                               class="errorform">Le numero de téléphone doit comporter 10 chiffres !</p>
                        </md-input-container>

                    </div>
                    <div class="col-md-6 col-sm-6">
                        <md-input-container class=" md-block">
                            <label>Téléphone 2 </label>
                            <input type="number" ng-model="item.cellphone"
                                   name="cellphone" class="validate">

                        </md-input-container>
                    </div>
                </div>

                <div class="row">
                    <div class="col-md-4 col-sm-4">
                        <md-input-container class=" md-block">
                            <label>Url de site *</label>
                            <input type="url" ng-model="url_site"  name="url_site" class="validate"
                                   required>
                            <p ng-if="submitted" class="errorform" ng-show="form.url_site.$error.required">
                                Ce champ est obligatoire !</p>
                            <p class="errorform" ng-show="form.url_site.$error.url">
                                L'URL doit commencer par http:// ou https://</p>
                        </md-input-container>
                    </div>
                    <div class="col-md-2 col-sm-2">

                                <md-button href="{{url_site}}" target="_blank" ng-disabled="form.url_site.$invalid"
                                           class="waves-effect waves-light md-raised md-primary pull-left">
                                    <span>Tester  </span>
                                </md-button>

                    </div>
                    <div class="col-md-6 col-sm-6">

                        <div class="md-input-container md-block">
                            <ui-select theme="select2" ng-model="item.superficies"
                                        name="superficies"
                                        ng-change="item.superficie=item.superficies.id"
                                        required="required" title="Superficie d'accueil du votre centre " >
                                <ui-select-match placeholder="Superficie d'accueil du votre centre">{{$select.selected.name}}</ui-select-match>
                                <ui-select-choices repeat="item in itemSuperficie | filter: $select.search">
                                    <div ng-bind-html="item.name | highlight: $select.search"></div>
                                </ui-select-choices>
                            </ui-select>

                            <p ng-if="submitted" class="errorform selectform" ng-show="form.superficies.$error.required">
                                Ce champ est obligatoire !</p>
                        </div>

                    </div>
                </div>
            </fieldset>


            <fieldset>
                <legend>Coordonnées du responsable du compte (Données non publiées)</legend>


                <div class="row">

                    <div class="col-md-4 col-sm-4">
                    <div class="md-input-container md-block">
                        <md-radio-group ng-model="item.civility"  name="civilitys" required="required" title="Civilité " >
                            <md-radio-button ng-repeat="it in itemCivility" class="md-primary" ng-value="it.id" aria-label="{{ it.name }}">
                                {{ it.name  }}
                            </md-radio-button>
                        </md-radio-group>

                        <p ng-if="submitted" class="errorform selectform"
                           ng-show="form.civilitys.$error.required">
                            Ce champ est obligatoire !</p>
                    </div>
                    </div>


                    <div class="col-md-4 col-sm-4">
                        <md-input-container class=" md-block">
                            <label>Nom responsable *</label>
                            <input type="text" ng-model="item.last_name_responsible"
                                   name="last_name_responsible" class="validate" required>
                            <p ng-if="submitted" class="errorform"
                               ng-show="form.last_name_responsible.$error.required">Ce
                                champ est obligatoire !</p>
                        </md-input-container>
                    </div>

                    <div class="col-md-4 col-sm-4">
                        <md-input-container class=" md-block">
                            <label>Prénom responsable *</label>
                            <input type="text" ng-model="item.first_name_responsible"
                                   name="first_name_responsible" class="validate" required>

                            <p ng-if="submitted" class="errorform"
                               ng-show="form.first_name_responsible.$error.required">Ce
                                champ est obligatoire !</p>
                        </md-input-container>

                    </div>
                </div>

                <div class="row">




                    <div class="col-md-6 col-sm-6">
                        <div class="md-input-container md-block">
                            <ui-select theme="select2" name="responsible_function" ng-model="item.item.responsible_functions"
                                       ng-change="item.responsible_function=item.item.responsible_functions.id"
                                       required="required" >
                                <ui-select-match placeholder="Fonction *" >
                                    <span ng-bind="$select.selected.name"></span>
                                </ui-select-match>
                                <ui-select-choices repeat="option in (itemFunctionClub | filter: $select.search)">

                                    <div ng-bind-html="option.name"></div>
                                </ui-select-choices>
                            </ui-select>

                            <!--<label>Nom du réseau*</label>-->
                            <!--<md-select aria-label="Réseau de club *" ng-model="item.networkclubs" name="networkclubs"-->
                            <!--required="required">-->
                            <!--<md-option ng-repeat="collegeOption in itemNetworkClub" ng-value="collegeOption">-->
                            <!--{{collegeOption.name}}-->
                            <!--</md-option>-->
                            <!--</md-select>-->

                            <p ng-if="submitted" class="errorform selectform"
                               ng-show="form.responsible_function.$error.required">Ce champ est obligatoire !</p>
                        </div>

                    </div>

                    <div class="col-md-6 col-sm-6">
                        <md-input-container class=" md-block">
                            <label>Email *</label>
                            <input type="email" ng-model="item.email" name="email" class="validate" required>
                            <p ng-if="submitted" class="errorform" ng-show="form.email.$invalid || form.email.$error.required" >
                                Veuillez saisir une adresse email valide !
                            </p>
                        </md-input-container>
                    </div>

                </div>

                <div class="row">
                    <div class="col-md-6 col-sm-6">
                        <md-input-container class=" md-block">
                            <label>Email de la personne contactée *</label>
                            <input type="email" ng-model="item.email_of_the_person_contacted"
                                   name="email_of_the_person_contacted" class="validate" required>
                            <p ng-if="submitted" class="errorform" ng-show="form.email_of_the_person_contacted.$invalid || form.email_of_the_person_contacted.$error.required" >
                                Veuillez saisir une adresse email valide !
                            </p>
                        </md-input-container>
                    </div>
                    <div class="col-md-6 col-sm-6">
                        <md-input-container class=" md-block">
                            <label>Email de la personne contactée en cc</label>
                            <input name="email_of_the_person_contacted_cc" ng-model="item.email_of_the_person_contacted_cc"
                                   type="email">
                        </md-input-container>
                    </div>
                </div>

                <div class="row">
                    <div class="col-md-6 col-sm-6">
                        <md-input-container class=" md-block">
                            <label>Password *</label>
                            <input type="password" ng-model="item.password" ng-minlength="8"
                                   ng-maxlength="20" name="password" class="validate" required>

                            <p ng-if="submitted" class="errorform" ng-show="form.password.$error.required"
                               id="password">Ce champ est obligatoire !</p>
                            <p ng-show="form.password.$error.minlength || form.password.$error.maxlength"
                               class="errorform">Les mots de passe doivent être entre 8 et 20 caractères!</p>
                            <p ng-show="" class="errorform">Les mots de passe doivent être entre 8 et 20
                                caractères!</p>
                        </md-input-container>
                    </div>
                    <div class="col-md-6 col-sm-6">
                        <md-input-container  ng-class="form.confirmPassword.$error.required || form.confirmPassword.$error.noMatch ? 'erreur' : 'sucess'"  class=" md-block">
                            <label>Confirmer mot de passe *</label>
                            <input  type="password" ng-model="item.confirm_password" name="confirmPassword"
                                   class="validate"
                                   id="confirmPassword" valid-password required>

                            <p class="errorform"
                               ng-show="form.confirmPassword.$error.noMatch">
                                Les mots de passe ne correspondent pas.</p>

                            <p ng-if="submitted" ng-show="form.confirmPassword.$error.required"
                               class="errorform">Ce champ est obligatoire !</p>

                        </md-input-container>
                    </div>
                </div>

            </fieldset>


            <div class="row">
                <div class="col-md-12 col-sm-12">
                    <md-input-container class=" md-block">
                        <md-button id="submit_form" type="submit" ng-disabled="dis"
                                   class="waves-effect waves-light md-raised md-primary pull-right">
                            <ng-md-icon icon="save" class="md-icon-left" size="16"></ng-md-icon>
                            <span>Sauvegarder</span>
                        </md-button>
                    </md-input-container>
                </div>
            </div>

        </form>
    </div>
</div>

<!-- Footer -->
<div ng-include="'views/layout/footer.html'"></div>

<script>
    document.createElement('ui-select');
    document.createElement('ui-select-match');
    document.createElement('ui-select-choices');
</script>